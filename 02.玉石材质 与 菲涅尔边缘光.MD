# 玉石材质

## 玉石材质核心

```C++
float3 refringenceDir = -normalize(light_dir + normal * _RefringencePower); //光线沿法线折射
float VLDot = max(0, dot(view_dir, refringenceDir)); //折射后光线与视线的夹角
VLDot = pow(VLDot, _TranslucentPower) * _TranslucentInst;
float3 refringenceColor = VLDot * _MainTexColor * mainTex * _LightColor0;
float4 thicknessMap = tex2D(_ThicknessMap, i.uv); //Substance Painter 烘培的模型厚度贴图
refringenceColor *= (1.0 - thicknessMap.r);
```

## 菲涅尔边缘光

```C++
 fixed3 fresnel = _FresnelScale + (1 - _FresnelScale) * pow(1 - dot(worldViewDir,worldnormal),5); //菲涅尔近似等式
```