05.火焰与消融

# 简单火焰

> 利用噪点图 移动UV 使用step或者smoothstep区分黑白与过渡部分 透明度输出

```C++

void surf( Input i , inout SurfaceOutput o )
{
    o.Emission = _FireColor.rgb;
    float2 uv_FireMask = i.uv_texcoord * _FireMask_ST.xy + _FireMask_ST.zw;
    float2 uv_NoiseMap = i.uv_texcoord * _NoiseMap_ST.xy + _NoiseMap_ST.zw;
    float2 panner59 = ( 1.0 * _Time.y * _UVSpeed + uv_NoiseMap); // 移动UV
    float NoiseMap83 = tex2D( _NoiseMap, panner59 ).r;
    float4 appendResult100 = (float4(( uv_FireMask.x + ( (NoiseMap83*2.0 + -1.0) * _fireShapeNoise ) ) , uv_FireMask.y , 0.0 , 0.0));
    float2 uv_FireRamp = i.uv_texcoord * _FireRamp_ST.xy + _FireRamp_ST.zw;
    //smoothstep
    float smoothstepResult65 = smoothstep( NoiseMap83 , ( NoiseMap83 - _Smooth ) , tex2D( _FireRamp, uv_FireRamp ).r);
    float NoiseUV71 = smoothstepResult65;
    float Opacity95 = ( tex2D( _FireMask, appendResult100.xy ).r * NoiseUV71 );
    o.Alpha = Opacity95;
}
```